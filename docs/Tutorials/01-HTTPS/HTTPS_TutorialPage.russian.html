<!DOCTYPE html><html lang="ru"><head><title>Использование HTTPS - Yamato Daiwa Backend (YDB)</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Node.js-фреймворк «Yamato Daiwa Backend» (сокращённо: «YDB») имеет поддержку протокола HTTPS «из коробки», при этом с лаконичным синтаксисом."><meta name="author" content="Copyright (c) 2023-present, Yamato Daiwa Co., Ltd."><link rel="icon" type="image/x-icon" href="/favicon--7f2fc10954.ico"><link rel="shortcut icon" type="image/x-icon" href="/favicon--7f2fc10954.ico"><link href="/styles/YDPD-Common--16647e1ed9.css" rel="stylesheet"><link href="/styles/layouts/TwoColumnsLayout--6f5f1c7df4.css" rel="stylesheet"><link href="/styles/YDPD-PreMades--aaaf1f4fc4.css" rel="stylesheet"><link href="/styles/CustomizedExternalComponents--26416a90be.css" rel="stylesheet"><script async src="https://www.googletagmanager.com/gtag/js?id=G-97BZ8V45E5"></script><script>window.dataLayer = window.dataLayer || [];

function gtag() {
  dataLayer.push(arguments);
}

gtag("js", new Date());
gtag("config", "G-97BZ8V45E5");</script></head><body><div class="TwoColumnsLayout"><div class="TwoColumnsLayout-UpperFixedContent"><header class="Header--YDPD TwoColumnsLayout-Header"><button class="HamburgerMenuButton--YDF Header--YDPD-HamburgerMenuButton" type="button"><svg class="HamburgerMenuButton--YDF-Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 13.74"><path d="M0 0h20v3H0zM0 5.37h20v3H0zM0 10.74h20v3H0z"></path></svg><span class="HamburgerMenuButton--YDF-Label HamburgerMenuButton--YDF-Label__Uppercase">меню</span></button><a class="Header--YDPD-LogoAndTitleTypeLink" href="/Top/TopPage.russian.html"><img class="Header--YDPD-Logo" src="/images/Icons/YDB_Icon__White--e327073d7a.svg" alt="Иконка инструмента серверного фреймворка «Yamato Daiwa Backend» (сокращённо: «YDB»)."><div class="Header--YDPD-Title"><span class="Header--YDPD-Title-Company">Yamato Daiwa</span><span class="Header--YDPD-Title-LibraryName">Backend</span></div></a><div class="LanguageDropDownList--YDF_DK Header--YDPD-DropDownList" id="LANGUAGE_DROP_DOWN_LIST"><div class="LanguageDropDownList--YDF_DK-CurrentlySelectedOption" role="combobox" tabindex="0" aria-controls="LANGUAGE_DROP_DOWN_LIST-1-LIST_BOX" aria-expanded="false" aria-haspopup="listbox" aria-label="Выберете язык" id="LANGUAGE_DROP_DOWN_LIST-1-CURRENTLY_SELECTED_OPTION"><span class="LanguageDropDownList--YDF_DK-CountryFlagPlaceholder" data-target_image_id="RUSSIAN_FLAG--SVG_IMAGE"></span><span class="LanguageDropDownList--YDF_DK-CurrentlySelectedOption-Label">Русский</span></div><div class="LanguageDropDownList--YDF_DK-ListBox LanguageDropDownList--YDF_DK-ListBox__Hidden" role="listbox" tabindex="-1" aria-label="Выберете язык" id="LANGUAGE_DROP_DOWN_LIST-1-LIST_BOX"><div class="LanguageDropDownList--YDF_DK-ListBox-Item" role="option" aria-selected="false"><a href="./HTTPS_TutorialPage.english.html"><span class="LanguageDropDownList--YDF_DK-CountryFlagPlaceholder" data-target_image_id="FLAG_OF_UNITED_KINGDOM--SVG_IMAGE"></span><span class="LanguageDropDownList--YDF_DK-ListBox-Item-Label">English</span></a></div><div class="LanguageDropDownList--YDF_DK-ListBox-Item" role="option" aria-selected="false"><a href="./HTTPS_TutorialPage.japanese.html"><span class="LanguageDropDownList--YDF_DK-CountryFlagPlaceholder" data-target_image_id="FLAG_OF_JAPAN--SVG_IMAGE"></span><span class="LanguageDropDownList--YDF_DK-ListBox-Item-Label">日本語</span></a></div><div class="LanguageDropDownList--YDF_DK-ListBox-Item LanguageDropDownList--YDF_DK-ListBox-Item__Selected" role="option" aria-selected="true"><a><span class="LanguageDropDownList--YDF_DK-CountryFlagPlaceholder" data-target_image_id="RUSSIAN_FLAG--SVG_IMAGE"></span><span class="LanguageDropDownList--YDF_DK-ListBox-Item-Label">Русский</span></a></div><template class="LanguageDropDownList--YDF_DK-FlagsImagesHolder"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 480" id="FLAG_OF_JAPAN--SVG_IMAGE"><defs><clippath id="a"><path fill-opacity=".7" d="M-88 32h640v480H-88z"></path></clippath></defs><g fill-rule="evenodd" stroke-width="1pt" clip-path="url(#a)" transform="translate(88 -32)"><path fill="#fff" d="M-128 32h720v480h-720z"></path><circle cx="523.1" cy="344.1" r="194.9" fill="#bc002d" transform="translate(-168.4 8.6) scale(.76554)"></circle></g></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 480" id="RUSSIAN_FLAG--SVG_IMAGE"><g fill-rule="evenodd" stroke-width="1pt"><path fill="#fff" d="M0 0h640v480H0z"></path><path fill="#0039a6" d="M0 160h640v320H0z"></path><path fill="#d52b1e" d="M0 320h640v160H0z"></path></g></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 480" id="FLAG_OF_UNITED_KINGDOM--SVG_IMAGE"><path fill="#012169" d="M0 0h640v480H0z"></path><path fill="#FFF" d="m75 0 244 181L562 0h78v62L400 241l240 178v61h-80L320 301 81 480H0v-60l239-178L0 64V0h75z"></path><path fill="#C8102E" d="m424 281 216 159v40L369 281h55zm-184 20 6 35L54 480H0l240-179zM640 0v3L391 191l2-44L590 0h50zM0 0l239 176h-60L0 42V0z"></path><path fill="#FFF" d="M241 0v480h160V0H241zM0 160v160h640V160H0z"></path><path fill="#C8102E" d="M0 193v96h640v-96H0zM273 0v480h96V0h-96z"></path></svg></template></div></div></header></div><div class="TwoColumnsLayout-Sidebar"><ul class="CompactTableOfContents--YDF_DK"><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="/Top/TopPage.russian.html">Главная</a></li><li class="CompactTableOfContents--YDF_DK-Item"><button class="CompactTableOfContents--YDF_DK-Item-CollapsingToggle" type="button" aria-label="Collapse"><svg class="CompactTableOfContents--YDF_DK-Item-CollapsingToggle-Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M0 10a10 10 0 1 0 20 0 10 10 0 0 0-20 0Zm14.5 2.5h-9l4.5-7 4.5 7Z"></path></svg></button><span class="CompactTableOfContents--YDF_DK-Item-Title">Уроки</span><ul class="CompactTableOfContents--YDF_DK"><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="/Tutorials/00-HelloWorld/HelloWorldTutorialPage.russian.html">Простейший пример «Привет, мир!»</a></li><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link CompactTableOfContents--YDF_DK-Item-Link__Current" href="/Tutorials/01-HTTPS/HTTPS_TutorialPage.russian.html" aria-current="page">Использование HTTPS</a></li><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="https://github.com/TokugawaTakeshi/Yamato-Daiwa-Backend/blob/master/Tutorials/03-RoutingAndControllers/README.md">Маршрутизация и контроллеры</a></li><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="https://github.com/TokugawaTakeshi/Yamato-Daiwa-Backend/blob/master/Tutorials/04-RoutePathParameters/README.md">Параметры путей маршрутов</a></li><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="https://github.com/TokugawaTakeshi/Yamato-Daiwa-Backend/blob/master/Tutorials/05-RouteQueryParameters/README.md">Параметры запросов маршрутов</a></li><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="https://github.com/TokugawaTakeshi/Yamato-Daiwa-Backend/blob/master/Tutorials/06-DotenvConfig/README.md">DotEnv конфигурация</a></li><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="https://github.com/TokugawaTakeshi/Yamato-Daiwa-Backend/blob/master/Tutorials/07-ConsoleLineInterface/README.md">Конфигурация через консоль</a></li></ul></li><li class="CompactTableOfContents--YDF_DK-Item"><button class="CompactTableOfContents--YDF_DK-Item-CollapsingToggle" type="button" aria-label="Collapse"><svg class="CompactTableOfContents--YDF_DK-Item-CollapsingToggle-Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M0 10a10 10 0 1 0 20 0 10 10 0 0 0-20 0Zm14.5 2.5h-9l4.5-7 4.5 7Z"></path></svg></button><span class="CompactTableOfContents--YDF_DK-Item-Title">API</span><ul class="CompactTableOfContents--YDF_DK"><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="/API/Server/Server.russian.html">Класс «<code>Server</code>»</a></li></ul></li></ul></div><main class="TwoColumnsLayout-SpecificContent"><article><h1 class="Article-Heading1">Использование HTTPS</h1><h2 class="Article-Heading2" id="THEORY--SECTION">Теория</h2><p class="Article-Paragraph"><strong class="Keyphrase--YDID">Для режима локальной разработки</strong> <i class="Term--YDID">протокола HTTP</i> может быть
  достаточно, однако
<strong class="Keyphrase--YDID">использовать его на продакшене <em class="Keyword--YDID">крайне</em> <em class="Keyword__Contrast--YDID">не</em> рекомендуется</strong>.
Передача данных (в том числе паролей, номеров кредитных карт и любой другой конфиденциальной информации) с
  помощью <i class="Term--YDID">протокола HTTP</i> осуществляется в <em class="Keyword--YDID">открытом</em> (незашифрованном) виде, что
  делает их уязвимыми к перехвату с помощью вредоносного программного обеспечения,
  <strong class="Keyphrase--YDID">обнаружить которое с вероятностью 100% не&nbsp;способен ни&nbsp;один антивирус</strong>.
Но даже у Ваc простой сайт, не&nbsp;работающий с личными данными, <i class="Term--YDID">поисковые системы</i> занизят его
  рейтинг, если Вы используйте <i class="Term--YDID">протокол HTTP</i>.</p><p class="Article-Paragraph">Стандартным решением этой проблемы является <dfn class="DefinableTerm--YDID">протокол HTTPS</dfn> — <em class="Keyword--YDID">расширение</em>
  <i class="Term--YDID">HTTP</i>, использующее <i class="Term--YDID">криптографические протоколы</i> <i class="ImportantEntity--YDID">SSL/TLS</i>
  для обеспечения конфиденциальности обмена данными.
Именно потому, что <i class="Term--YDID">HTTPS</i> является <em class="Keyword--YDID">расширением</em> <i class="Term--YDID">HTTP</i>, несмотря
  на использование <i class="Term--YDID">протокола HTTPS</i> по-прежнему актуальны такие термины, как
  <i class="Term--YDID">«HTTP-запрос»</i>.
Однако для того, чтобы магия <i class="Term--YDID">HTTPS</i> работала, во-первых, <em class="Keyword--YDID">необходимо</em> подготовить:
</p><dl class="Article-DescriptionList"><dt>Цифровой сертификат</dt><dd>Большая <i class="Term--YDID">последовательность символов</i>, которая идентифицирует <i class="Term--YDID">сервер</i> и по которой
  браузер либо другое программное обеспечение с функцией отправки <i class="Term--YDID">HTTP-запросов</i> могут судить о
  том, насколько безопасен обмен данных с <i class="Term--YDID">сервером</i>.
</dd><dt>Закрытый ключ</dt><dd>Большая <i class="Term--YDID">последовательность символов</i>, которую <i class="Term--YDID">сервер</i> сервер использует при
  установлении доверительного соединения с клиентом.
</dd></dl><p class="Article-Paragraph">И <i class="Term--YDID">цифровой сертификат</i>, и <i class="Term--YDID">закрытый ключ</i> могут храниться на локальном компьютере или
  сервере в виде файлов, однако в конечном счёте работа осуществляется именно с
  <i class="Term--YDID">последовательностями символов</i>.
</p><p class="Article-Paragraph"><strong class="Keyphrase--YDID">В случае продакшена</strong> <i class="Term--YDID">цифровой сертификат</i> и <i class="Term__Contrast--YDID">закрытый ключ</i>
  <em class="Keyword--YDID">необходимо</em> (ввиду требований к безопасности) <em class="Keyword__Contrast--YDID">приобретать</em>
  <strong class="Keyphrase--YDID">на регулярной основе</strong> из-за их <em class="Keyword--YDID">ограниченного</em> срока действия.
Обычно их можно приобрести у поставщиков услуг по сдаче <i class="Term--YDID">серверов</i> в аренду, с которыми Вам, скорее
  всего, предстоит иметь дело.
Существуют как платные, так и бесплатные пары <i class="Term--YDID">сертификат-ключ</i>, при этом, к счастью, в современности
  <em class="Keyword--YDID">платные</em> нужны в основном для сайтов и приложений с повышенными требованиями к безопасности
  (например, банковских онлайн сервисов, сайты по оказанию госуслуг и так далее).
</p><p class="Article-Paragraph"><strong class="Keyphrase--YDID">Для режима локальной разработки</strong> <i class="Term--YDID">сертификат</i> и <i class="Term--YDID">ключ</i> можно
  выпустить <em class="Keyword--YDID">самостоятельно</em>.
Процесс их выпуска прост, куда сложнее объясниться с браузером, что самовыпущенной паре
  <i class="Term--YDID">ключ-сертификат</i> можно доверять.
Самовыпущенная пара <i class="Term--YDID">сертификат-ключ</i> даёт <strong class="Keyphrase--YDID">такой же</strong> уровень защиты, что и
  приобретаемые, однако браузеры учитывают, кем они были выпущены, и если уровень доверия окажется недостаточным,
  то Вы увидите в браузере примерно такое сообщение:
</p><div class="SingleImageViewer--YDF SingleImageViewer--YDF__RegularGeometricVariation SingleImageViewer--YDF__RegularDecorativeVariation"><figure class="SingleImageViewer--YDF-Figure"><img class="SingleImageViewer--YDF-Image" src="/Tutorials/01-HTTPS/Images/ConnectionIsNotPrivateBrowserError.russian--4318506f8e.png" alt="Браузер сообщает: «Ваше подключение не защищено». Причиной этого может быть недоверие браузера к выпущенному SLL-сертификату." style="aspect-ratio: 602/312;"></figure></div><p class="Article-Paragraph">Странно получать подобные сообщения о возможном похищении данных в отношении разрабатываемого нами сайта или
  приложения, запущенного на <code class="SecondaryEntity__Code--YDID">localhost</code>, а не&nbsp;в интернете, не правда ли?
Связано это с особенностями работы данной технологии безопасности.
Одна из них заключается в том, что <i class="Term--YDID">доменное имя</i> привязывается в <em class="Keyword--YDID">контролируемому</em>
  <em class="Keyword__Contrast--YDID">набору</em> серверов, а <code class="ImportantEntity__Code--YDID">localhost</code> такой привязки
  <em class="Keyword--YDID">не</em>&nbsp;имеет и <em class="Keyword--YDID">не</em>&nbsp;<em class="Keyword__Contrast--YDID">может</em> иметь, так как
  <strong class="Keyphrase--YDID">на каждой</strong> машине <em class="Keyword--YDID">свой</em> сервер на <i class="ImportantEntity--YDID">localhost</i>.
Кроме того, гипотетически можно настроить компьютер так, чтобы <i class="ImportantEntity--YDID">localhost</i> вёл на
  какой-нибудь другой <i class="Term--YDID">домен</i> в интернете (eдва ли Вы захотите этим заниматься, но это может сделать
  вредоносное программное обеспечение).
В итоге, браузерy <em class="Keyword--YDID">неизвестно</em>, что именно скрывается за <i class="ImportantEntity--YDID">localhost</i>,
  а потому он <em class="Keyword--YDID">не</em>&nbsp;доверяет <i class="ImportantEntity--YDID">localhost</i> <em class="Keyword--YDID">наравне</em> с
  опубликованными в интернете сайтами и приложениями, имеющих <i class="Term--YDID">цифровые сертификаты</i> сомнительного
  происхождения.
</p><p class="Article-Paragraph">Как же заставить браузеры доверять самовыпущенным <i class="Term--YDID">сертификатам</i>?
Это можно сделать без&nbsp;стороннего программного обеспечения, однако процесс будет зависеть от
  <i class="Term--YDID">операционной системы</i>.
Проще всего сделать это кроссплатформенно с помощью утилиты <i class="ImportantEntity--YDID">mkcert</i>.
Хотя и она имеет ограничения (например, на момент <i class="SecondaryEntity--YDID">весны 2024</i> года
  <em class="Keyword--YDID">не</em>&nbsp;поддерживался браузер <i class="SecondaryEntity--YDID">Firefox</i> для операционной
  системы <i class="SecondaryEntity--YDID">Windows</i>), в целом с её помощью можно заставить доверять самовыпущенным
  <i class="Term--YDID">парам сертификат-ключ</i> <em class="Keyword--YDID">большинство</em> популярных <i class="Term--YDID">браузеров</i>
  в <em class="Keyword--YDID">большинстве</em> популярных <i class="Term--YDID">операционных систем</i>.

</p><h2 class="Article-Heading2" id="SSL_KEY_AND_CERTIFICATE_ISSUE--SECTION">Выпуск пары сертификат/ключ для режима локальной разработки</h2><p class="Article-Paragraph">Утилита <i class="ImportantEntity--YDID">mkcert</i> <em class="Keyword--YDID">не</em>&nbsp;имеет отношения к
  <i class="ImportantEntity--YDID">Node.js</i> (а следовательно и к <i class="ImportantEntity--YDID">npm</i>), потому устанавливать
  ещё на компьютер предстоит с помощью стандартных для конкретной <i class="Term--YDID">операционной системы</i>
  <i class="Term__Contrast--YDID">пакетных менеджеров</i> (<i class="ImportantEntity--YDID">Chocolatey</i> для
  <i class="ImportantEntity--YDID">Windows</i>, <i class="ImportantEntity--YDID">Homebrew</i> либо <i class="ImportantEntity--YDID">MacPorts</i>
  для <i class="ImportantEntity--YDID">macOS</i>, а для <i class="ImportantEntity--YDID">Linux</i> установка чуть более сложная, но
  тоже возможна с использованием <i class="ImportantEntity--YDID">Homebrew</i>).
Актуальный способ установки утилиты Вы можете узнать на
<a class="Link--YDF Article-Link" href="https://github.com/FiloSottile/mkcert?tab=readme-ov-file" target="_blank" rel="noopener noreferrer nofollow">официальной странице GitHub данного проекта</a>.
Можем также предложить Вашему вниманию
<a class="Link--YDF Article-Link" href="https://www.youtube.com/watch?v=1Zexy6_-6jM" target="_blank" rel="noopener noreferrer nofollow">хорошее русскоязычное видео</a>
  по <code class="SecondaryEntity__Code--YDID">mkcert</code>, только там тестовое веб-приложением написано на фреймворке
  <i class="SecondaryEntity--YDID">Django</i> для языка <i class="SecondaryEntity--YDID">Python</i>, но
  <strong class="Keyphrase--YDID">на этом этапе</strong> нас интересует только <i class="ImportantEntity--YDID">mkcert</i>.</p><p class="Article-Paragraph">После того, как установка утилиты завершена, выполните команду <code class="ImportantEntity__Code--YDID">mkcert -install</code>.
Данная команда устанавливает на компьютер <i class="Term--YDID">центр сертификации</i>
  (<i class="Term--YDID">Certification authority</i>), задача которого — подтверждать подлинность ключей шифрования.
Эту команду <em class="Keyword--YDID">достаточно</em> выполнить <em class="Keyword__Contrast--YDID">один</em> раз
  <strong class="Keyphrase--YDID">вне зависимости от того, сколько <i class="Term--YDID">сертификатов</i> и <i class="Term--YDID">ключей</i> Вы выпустите</strong>.
</p><p class="Article-Paragraph">Итак, нам нужно, чтобы браузер доверял <i class="Term--YDID">сертификату</i>, который мы выпустим для
  <i class="ImportantEntity--YDID">URI</i> <code class="SecondaryEntity__Code--YDID">https://127.0.0.1</code>, а также, желательно, для
  <code class="SecondaryEntity__Code--YDID">https://localhost</code>.
Несмотря на то, что <code class="SecondaryEntity__Code--YDID">localhost</code> и <code class="SecondaryEntity__Code--YDID">127.0.0.1</code>
  это, фактически, одно и то же, <i class="ImportantEntity--YDID">mkcert</i> должен объясняться перед браузерами за каждый
  из них в отдельности, потому и указать их при выполнении команды выпуска сертификата тоже
  <em class="Keyword--YDID">необходимо</em> <em class="Keyword__Contrast--YDID">оба</em>:
</p><div class="CodeViewer--YDF"><div class="CodeViewer--YDF-ActionBar"><button class="Button--YDF Button--YDF__SmallGeometricVariation Button--YDF__RegularDecorativeVariation CodeViewer--YDF-ActionBar-Button CodeViewer--YDF-ActionBar-Button__CodeCopying" type="button"><svg class="Button--YDF-SVG_Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.81 20"><path d="M4.91 17.02h10.35c.85 0 1.55-.7 1.55-1.55V5.62c0-.45-.18-.88-.5-1.2L12.39.5a1.7 1.7 0 0 0-1.2-.5H4.91c-.76 0-1.4.55-1.53 1.28-.02.08-.02.17-.02.26v13.93c0 .85.7 1.55 1.55 1.55ZM15.74 5.08h-3.48c-.37 0-.52-.15-.52-.52V1.08l4 4Zm-.48 11.08H4.91a.69.69 0 0 1-.68-.68V1.55A.67.67 0 0 1 4.9.88h6.05v4.15a.83.83 0 0 0 .83.82h4.14v9.63c0 .37-.31.68-.68.68Z"></path><path d="M0 4.52v13.93C0 19.3.69 20 1.55 20H11.9c.76 0 1.4-.56 1.52-1.28.02-.08.02-.17.02-.26v-.61h-.87v.61a.67.67 0 0 1-.67.67H1.55a.69.69 0 0 1-.68-.68V4.52c0-.37.3-.68.68-.68h.99l.05-.87H1.55C.69 2.98 0 3.67 0 4.52Z"></path></svg><span class="Button--YDF-Label">Копировать код</span></button></div><div class="CodeViewer--YDF-TabsFlow" role="tablist" aria-label="Вкладки для каждого файла с исходным кодом"></div><div class="CodeViewer--YDF-TabPanel" data-code_language="bash" data-code_language_label="Bash" role="tabpanel" hidden><pre><code class="CodeViewer--YDF-CodeListing-CodeContainer language-bash">mkcert localhost 127.0.0.1
</code></pre></div><template class="CodeViewer--YDF-TabTemplate"><button class="CodeViewer--YDF-Tab" role="tab" type="button" aria-selected="false" tabindex="-1"><span class="CodeViewer--YDF-Tab-FileLabel"></span><span class="CodeViewer--YDF-Tab-LanguageKeyLabel">Язык</span><span class="CodeViewer--YDF-Tab-LanguageValueLabel"></span></button></template></div><p class="Article-Paragraph">Появится сообщение о том, что были созданы файлы <i class="SecondaryEntity--YDID">localhost.pem</i> и
  <i class="SecondaryEntity--YDID">localhost-key.pem</i>, а также срок действительности эти файлов:
</p><pre class="ConsoleOutput--YDF"><samp>Created a new certificate valid for the following names 📜
  - "localhost"
  - "127.0.0.1"

The certificate is at "./localhost+1.pem" and the key at "./localhost+1-key.pem" ✅

It will expire on 18 July 2026
</samp></pre><p class="Article-Paragraph">Согласитесь, не&nbsp;очень-то и понятно по именам файлов, что в них содержится, а потому мы их переименуем.
Вообще, можно было указать имена файлов и через консольную команду, но при вводе длинной консольной команды легко
  ошибиться, потому переименуем в фалы с использование графического пользовательского интерфейса:
  <i class="SecondaryEntity--YDID">localhost.pem</i> в <i class="SecondaryEntity--YDID">SSL_Certificate.pem</i>, а
  <i class="SecondaryEntity--YDID">localhost-key.pem</i> в <i class="SecondaryEntity--YDID">SSL_Key.pem</i>.
Хотя и с такими именами файлов всё ещё не&nbsp;понятно, к какому проекту соответствующе <i class="Term--YDID">сертификат</i>
  и <i class="Term--YDID">ключ</i> имеют отношение, ввиду того, что эти файлы будут храниться и использоваться
  <em class="Keyword--YDID">только</em> в данном проекте, можно остановиться на этих именах.
Поместим эти файлы в папку <i class="SecondaryEntity--YDID">SSL</i> проекта.

</p><h2 class="Article-Heading2" id="CODE--SECTION">Код приложения</h2><p class="Article-Paragraph"><i class="ImportantEntity--YDID">YDB</i> поддерживает <i class="ImportantEntity--YDID">HTTPS</i> <em class="Keyword--YDID">без</em>&nbsp;плагинов.
Всё что нужно — указать пути к выпущенным ранее <i class="Term--YDID">SSL-сертификату</i> и <i class="Term--YDID">ключу</i>.
Соответствующие <i class="Term--YDID">свойства</i> <i class="ImportantEntity--YDID">1-ого</i> <i class="Term--YDID">параметра</i> у
  <i class="Term__Contrast--YDID">метода</i> <code class="ImportantEntity__Code--YDID">initializeAndStart</code> находится
  в группе <i class="Term--YDID">HTTPS</i> — её мы будем указывать на этот раз <em class="Keyword--YDID">вместо</em>
  <code class="ImportantEntity__Code--YDID">HTTP</code>:
</p><div class="CodeViewer--YDF Article-CodeViewer"><div class="CodeViewer--YDF-ActionBar"><button class="Button--YDF Button--YDF__SmallGeometricVariation Button--YDF__RegularDecorativeVariation CodeViewer--YDF-ActionBar-Button CodeViewer--YDF-ActionBar-Button__CodeCopying" type="button"><svg class="Button--YDF-SVG_Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.81 20"><path d="M4.91 17.02h10.35c.85 0 1.55-.7 1.55-1.55V5.62c0-.45-.18-.88-.5-1.2L12.39.5a1.7 1.7 0 0 0-1.2-.5H4.91c-.76 0-1.4.55-1.53 1.28-.02.08-.02.17-.02.26v13.93c0 .85.7 1.55 1.55 1.55ZM15.74 5.08h-3.48c-.37 0-.52-.15-.52-.52V1.08l4 4Zm-.48 11.08H4.91a.69.69 0 0 1-.68-.68V1.55A.67.67 0 0 1 4.9.88h6.05v4.15a.83.83 0 0 0 .83.82h4.14v9.63c0 .37-.31.68-.68.68Z"></path><path d="M0 4.52v13.93C0 19.3.69 20 1.55 20H11.9c.76 0 1.4-.56 1.52-1.28.02-.08.02-.17.02-.26v-.61h-.87v.61a.67.67 0 0 1-.67.67H1.55a.69.69 0 0 1-.68-.68V4.52c0-.37.3-.68.68-.68h.99l.05-.87H1.55C.69 2.98 0 3.67 0 4.52Z"></path></svg><span class="Button--YDF-Label">Копировать код</span></button></div><div class="CodeViewer--YDF-TabsFlow" role="tablist" aria-label="Вкладки для каждого файла с исходным кодом"></div><div class="CodeViewer--YDF-TabPanel" data-code_language="ts" data-code_language_label="TypeScript" role="tabpanel" hidden><pre class="CodeViewer--YDF-PartialListing"><code class="CodeViewer--YDF-PartialListing-CodeContainer">import { Server, Request, Response, ProtocolDependentDefaultPorts } from &quot;@yamato-daiwa/backend&quot;;
import { HTTP_Methods } from &quot;@yamato-daiwa/es-extensions&quot;;
import Path from &quot;path&quot;;


Server.initializeAndStart({
  IP_Address: &quot;127.0.0.1&quot;,
  HTTPS: {
    port: ProtocolDependentDefaultPorts.HTTPS,</code></pre><div class="CodeViewer--YDF-Explanation"><svg class="CodeViewer--YDF-Explanation-Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M5.07 8.14h-.85v2.35l.4.52.45-.52V8.14z"></path><path d="M10 0a10 10 0 0 0-6.91 17.22l-.15-2.54h-.45a.64.64 0 0 1-.64-.64V9.11c0-.71.77-1.48 1.48-1.48h3.01c.71 0 1.04.65 1.2 1.48l.29 1.65h1.19c.1 0 .19.02.27.06l2.19-1.59a.3.3 0 0 1 .18-.06c.1 0 .19.05.25.13a.3.3 0 0 1-.07.43l-2.19 1.59v.09c0 .36-.29.64-.64.64h-1.8a.81.81 0 0 1-.79-.67l-.18-.81h-.02l-.32 8.32c0 .08-.02.15-.05.22a9.96 9.96 0 0 0 14.12-9.1A9.99 9.99 0 0 0 10 0ZM4.69 6.93a1.47 1.47 0 1 1 0-2.94 1.47 1.47 0 0 1 0 2.94Zm3.8 7.3v-1.85h.84v1.01h7.54V5.35H9.33v4.51h-.84V4.51h9.22v9.72H8.49Z"></path></svg><div class="CodeViewer--YDF-Explanation-Text">Для <i class="ImportantEntity--YDID">HTTPS</i> <i class="Term--YDID">портом</i> <strong class="Keyphrase--YDID">по умолчанию</strong> является
  <code class="ImportantEntity__Code--YDID">443</code>.
Опять же, нет необходимости это запоминать — достаточно осознавать, будем ли мы использовать
  <i class="Term--YDID">порт</i> по умолчанию или же какой-то другой.
</div></div><pre class="CodeViewer--YDF-PartialListing"><code class="CodeViewer--YDF-PartialListing-CodeContainer">    SSL_CertificateFileRelativeOrAbsolutePath: Path.resolve(__dirname, &quot;./SSL/cert.pem&quot;),    SSL_KeyFileRelativeOrAbsolutePath: Path.resolve(__dirname, &quot;./SSL/key.pem&quot;),</code></pre><div class="CodeViewer--YDF-Explanation"><svg class="CodeViewer--YDF-Explanation-Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M5.07 8.14h-.85v2.35l.4.52.45-.52V8.14z"></path><path d="M10 0a10 10 0 0 0-6.91 17.22l-.15-2.54h-.45a.64.64 0 0 1-.64-.64V9.11c0-.71.77-1.48 1.48-1.48h3.01c.71 0 1.04.65 1.2 1.48l.29 1.65h1.19c.1 0 .19.02.27.06l2.19-1.59a.3.3 0 0 1 .18-.06c.1 0 .19.05.25.13a.3.3 0 0 1-.07.43l-2.19 1.59v.09c0 .36-.29.64-.64.64h-1.8a.81.81 0 0 1-.79-.67l-.18-.81h-.02l-.32 8.32c0 .08-.02.15-.05.22a9.96 9.96 0 0 0 14.12-9.1A9.99 9.99 0 0 0 10 0ZM4.69 6.93a1.47 1.47 0 1 1 0-2.94 1.47 1.47 0 0 1 0 2.94Zm3.8 7.3v-1.85h.84v1.01h7.54V5.35H9.33v4.51h-.84V4.51h9.22v9.72H8.49Z"></path></svg><div class="CodeViewer--YDF-Explanation-Text"><p class="Article-Paragraph">Указываем пути к <i class="Term--YDID">сертификату</i> и <i class="Term--YDID">ключу</i>, созданных ранее.
Относительные пути (<code class="SecondaryEntity__Code--YDID">SSL/cert.pem</code> и <code class="SecondaryEntity__Code--YDID">SSL/cert.pem</code>
  соответственно) тоже <strong class="Keyphrase--YDID">в данном случае</strong> будут работать, но <em class="Keyword--YDID">абсолютные</em>
  <i class="Term--YDID">пути</i> <em class="Keyword__Contrast--YDID">надёжнее</em>.
</p><p class="Article-Paragraph">Если у Вас вместо файлов <i class="Term--YDID">сертификата</i> и <i class="Term--YDID">ключа</i> уже имеются готовые строчные
  значения, то вместо этих двух <i class="Term--YDID">свойств</i> укажите
  <code class="ImportantEntity__Code--YDID">SSL_Certificate</code> и <ImportantEntity__Code--YDID>SSL_Key</ImportantEntity__Code--YDID>
  <em class="Keyword--YDID">соответственно</em>.
</p></div></div><pre class="CodeViewer--YDF-PartialListing"><code class="CodeViewer--YDF-PartialListing-CodeContainer">  routing: [
      {
        route: { HTTP_Method: HTTP_Methods.get, pathTemplate: &quot;/&quot; },
        async handler(_request: Request, response: Response): Promise&lt;void&gt; {
          return response.submitWithSuccess({ HTML_Content: &quot;&lt;h1&gt;Hello, world!&lt;/h1&gt;&quot; });
        }
      }
    ]
  });
  </code></pre></div><template class="CodeViewer--YDF-TabTemplate"><button class="CodeViewer--YDF-Tab" role="tab" type="button" aria-selected="false" tabindex="-1"><span class="CodeViewer--YDF-Tab-FileLabel"></span><span class="CodeViewer--YDF-Tab-LanguageKeyLabel">Язык</span><span class="CodeViewer--YDF-Tab-LanguageValueLabel"></span></button></template></div><p class="Article-Paragraph">Группа <i class="Term--YDID">свойств</i> <code class="ImportantEntity__Code--YDID">HTTPS</code> <em class="Keyword--YDID">не</em>&nbsp;исключает группу
  <code class="ImportantEntity__Code--YDID">HTTP</code> <strong class="Keyphrase--YDID">если используются разные <i class="Term--YDID">порты</i></strong>, однако
  если у Вас есть возможность поддерживать <i class="Term--YDID">протокол HTTPS</i>, а поддерживать
  <i class="ImportantEntity--YDID">HTTP</i> особых причин нет, то от <em class="Keyword--YDID">последнего</em> лучше
  <em class="Keyword__Contrast--YDID">отказаться</em>.
В последующих уроках хорошо было бы использовать <em class="Keyword--YDID">только</em> <i class="Term--YDID">протокол HTTPS</i>,
  чтобы выработать к нему отношение как <strong class="Keyphrase--YDID">стандарту безопасности</strong>.
Но к сожалению, многие читатели не&nbsp;последуют нашей рекомендации изучать уроки последовательно,
  а потому столкнутся с трудностями при обеспечении поддержки <i class="ImportantEntity--YDID">HTTPS</i> в последующих уроках,
  из-за чего начиная со следующего урока мы вновь будет использовать <i class="Term--YDID">протокол HTTP</i>.

</p><h2 class="Article-Heading2" id="TESTING--SECTION">Тестирование</h2><p class="Article-Paragraph">Запустим приложение с помощью <code class="SecondaryEntity__Code--YDID">ts-node EntryPoint.ts</code>.
На этот раз у нас прослушивание входящих запросов осуществляется на
  <code class="SecondaryEntity__Code--YDID">https://127.0.0.1:443</code> (двоеточие и номер <i class="Term--YDID">порта</i> можно опустить,
  <strong class="Keyphrase--YDID">если <i class="Term--YDID">порт</i> по умолчанию</strong>).
Откроем этот адрес в браузере.
Если все описанные ранее действия выполнены верно, а <i class="ImportantEntity--YDID">mkcert</i> поддерживаем Ваш браузер,
  то а браузере отобразиться страница с заголовком <code class="SecondaryEntity__Code--YDID">Hello, world!</code>.
Проверьте также <code class="SecondaryEntity__Code--YDID">https://localhost:443</code>.</p></article></main><div class="TwoColumnsLayout-BottomFixedContent"><footer class="Footer--YDPD TwoColumnsLayout-Footer"><p class="Footer--YDPD-Copyright">© 2023 Yamato Daiwa Co., Ltd</p></footer></div><div class="DrawerMenu--YDPD-Underlay DrawerMenu--YDPD-Underlay__HiddenState"><div class="DrawerMenu--YDPD-Body"><ul class="CompactTableOfContents--YDF_DK"><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="/Top/TopPage.russian.html">Главная</a></li><li class="CompactTableOfContents--YDF_DK-Item"><button class="CompactTableOfContents--YDF_DK-Item-CollapsingToggle" type="button" aria-label="Collapse"><svg class="CompactTableOfContents--YDF_DK-Item-CollapsingToggle-Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M0 10a10 10 0 1 0 20 0 10 10 0 0 0-20 0Zm14.5 2.5h-9l4.5-7 4.5 7Z"></path></svg></button><span class="CompactTableOfContents--YDF_DK-Item-Title">Уроки</span><ul class="CompactTableOfContents--YDF_DK"><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="/Tutorials/00-HelloWorld/HelloWorldTutorialPage.russian.html">Простейший пример «Привет, мир!»</a></li><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link CompactTableOfContents--YDF_DK-Item-Link__Current" href="/Tutorials/01-HTTPS/HTTPS_TutorialPage.russian.html" aria-current="page">Использование HTTPS</a></li><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="https://github.com/TokugawaTakeshi/Yamato-Daiwa-Backend/blob/master/Tutorials/03-RoutingAndControllers/README.md">Маршрутизация и контроллеры</a></li><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="https://github.com/TokugawaTakeshi/Yamato-Daiwa-Backend/blob/master/Tutorials/04-RoutePathParameters/README.md">Параметры путей маршрутов</a></li><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="https://github.com/TokugawaTakeshi/Yamato-Daiwa-Backend/blob/master/Tutorials/05-RouteQueryParameters/README.md">Параметры запросов маршрутов</a></li><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="https://github.com/TokugawaTakeshi/Yamato-Daiwa-Backend/blob/master/Tutorials/06-DotenvConfig/README.md">DotEnv конфигурация</a></li><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="https://github.com/TokugawaTakeshi/Yamato-Daiwa-Backend/blob/master/Tutorials/07-ConsoleLineInterface/README.md">Конфигурация через консоль</a></li></ul></li><li class="CompactTableOfContents--YDF_DK-Item"><button class="CompactTableOfContents--YDF_DK-Item-CollapsingToggle" type="button" aria-label="Collapse"><svg class="CompactTableOfContents--YDF_DK-Item-CollapsingToggle-Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M0 10a10 10 0 1 0 20 0 10 10 0 0 0-20 0Zm14.5 2.5h-9l4.5-7 4.5 7Z"></path></svg></button><span class="CompactTableOfContents--YDF_DK-Item-Title">API</span><ul class="CompactTableOfContents--YDF_DK"><li class="CompactTableOfContents--YDF_DK-Item"><a class="CompactTableOfContents--YDF_DK-Item-Link" href="/API/Server/Server.russian.html">Класс «<code>Server</code>»</a></li></ul></li></ul></div><button class="ClosingButton--YDF ClosingButton--YDF__RegularDecorativeVariation DrawerMenu--YDPD-ClosingButton" type="button"><svg class="ClosingButton--YDF-Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18 0H2a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V2a2 2 0 00-2-2zm-4 16l-4-4-4 4-2-2 4-4-4-4 2-2 4 4 4-4 2 2-4 4 4 4z"></path></svg><span class="ClosingButton--YDF-Label ClosingButton--YDF-Label__Uppercase">Закрыть</span></button></div></div><script src="/YDPD-Common--b40980780b.js"></script></body></html>